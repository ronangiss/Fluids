<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="description" content="Homepage for R칩n치n Gissler's Projects in Mechanical Engineering">
<meta name="google-site-verification" content="a5yGE61wbLl2nfdXtS-jhn2NdsYSYXnah-SQnvN8668" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Home</title>
<link href="https://fonts.cdnfonts.com/css/latin-modern-roman" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="mass_conservation.css">
<!--mathjax stuff -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header role='banner' id = "mainTitle">
<!-- Add background image for title -->
	<h1>Fluid Fluency</h1>
    <h2>An Online Repository for Fluid Physics Notes</h2>
    <h2>by R칩n치n Gissler</h2>
	<nav role='navigation' class='pageNav'>
				<ul>
					<li>
						<a href="./index.html" title="Home Page">
						Home
						</a>
					</li>
				</ul>
			</nav>
</header>
<main role='main'>
    <article role='article'>
    <div class="level_select">
    <button class="level" id="beginner">
        Beginner
    </button>
    <button class="level" id="intermediate">
        Intermediate
    </button>
    <button class="level" id="advanced">
        Advanced
    </button>
    </div>
        <h2>Mass Conservation</h2>
        <span id="puff"></span>
            <div id="beginner_content">
            <section>
            <p>&emsp;&emsp;Under most circumstances, mass is neither created or destroyed.
                Therefore, we can say mass is conserved. You are likely already familiar
                with mass conservation since it's easy to observe day to day. One exception
                to mass conservation would be nuclear reactions where mass can be
                transferred into energy. Thankfully most fluid mechanics doesn't
                rely on nuclear reactions, so we can safely use mass conservation for
                the problems we'll encounter.</p>
            <p>&emsp;&emsp;Imagine a box of
                arbitrary size and shape such as the tank pictured below. If 
                the amount of fluid in the box is constant in time, the amount of fluid flowing
                in must be equal to the amount of fluid flowing out. If more
                fluid is flowing in than is flowing out, the amount of fluid in the tank
                will increase over time. And vice versa. This form of analysis considering our arbitrary box
                of fluid is called control volume analysis. It may feel fairly straightforward
                for mass conservation but control volume analysis is an important tool
                for fluid mechanics.</p>
            <p>&emsp;&emsp;Looking to get a better feel for mass conservation? 
                Try sliding the vertical gates up and down in the animation below
                to change the flow rates in or out of the tank.</p>
            <div id="animation_container">
            <div id="animation_text">
                Click and drag the gates below to observe the results.
            </div>
            <div id="mass_conservation_animation">
                <div class="left_slider_label"><p>Mass Flowrate In&nbsp;&nbsp;</p></div>
                <div class="left_inlet">
                    <div class="arrow-right" id="left_side_arrow"></div>
                    <input type="range" name="slider-fill" class="slider" id="m_in" value="0" min="0" max="4" autocomplete="off">
                </div>
                <div class="tank">
                    <div class="water">
                        <div class="wave">
            
                        </div>
                    </div>
                </div>
                <div class="right_inlet">
                    <input type="range" name="slider-fill" class="slider" id="m_out" value="0" min="0" max="4" autocomplete="off">
                    <div class="arrow-right" id="right_side_arrow"></div>
                </div>
                <div class="right_slider_label"><p>Mass Flowrate Out</p></div>
            </div>
            </div>
            </section>

            <section>
            <h3>Mathematical Statement of Mass Conservation</h3>
            <p>&emsp;&emsp;Let's transfer this idea of mass conservation to an equation. 
                The simplest expression would be that the time derivative of mass in
                our control volume is equal to the difference between the mass flow
                in and out. The dot notation below is used to indicate a time derivative,
                so \( \dot{m} = \frac{dm}{dt} \).</p>

            <div class="equation_line">
                <span class="equation_left_hidden">
                    Accumulation term. The rate at which mass is appearing or 
                    disappearing from the control volume.
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( {\dot{m}_{CV}} \)
                    </span>
                    <span>\( = \)</span>
                    <span class="equation_right">
                        \( {\dot{m}_{in} - \dot{m}_{out}} \)
                    </span>
                </span>
                <span class="equation_right_hidden">
                    Flux term. Mass flow in minus mass flow out.
                </span>
            </div>
            <div class="equation_label">
                (Simple Form)
            </div>

            <p>&emsp;&emsp;
                We can rewrite the mass flow rate \( \dot{m} \) in terms of fluid
                variables if we imagine flow passing through a cross-section A
                with some velocity v. To go from a volume flow rate to a mass flow
                rate we can add a factor of density \( \rho \).
            </p>
            <div class="equation_line">
                <span class="equation">
                    \( \dot{m} = \rho A \vec{\mathbf{v}} \)
                </span>
            </div>
            <img src="mass_flow.png" alt="Mass flow labeled in flow through a pipe" class="center">
            
            <p>&emsp;&emsp;
                <br>
                If the flow properties are different at the inlet and outlet of a
                given control volume as in the image below, we can query the
                properties at those locations when evaluating the mass flow. In
                the example below, the channel widens from left to right. Therefore,
                either the density or velocity must change between those two points.
                Typically, the fluid density is a constant (i.e. the fluid is incompressible)
                so the velocity must have changed. Since the area increased from left
                to right, the velocity must have decreased from left to right.
            </p>
            <img src="mass_flow_in_out.png" alt="Mass flow at inlet and outlet" class="center">

            <div class="centerText">
                <button class="equation_assumptions">
                Incompressible and Confined 
                </button>
            </div>
            <div class="equation_line">
                <span class="equation_left_hidden">
                    Accumulation term. The rate at which mass is appearing or 
                    disappearing from the control volume.
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( {\dot{m}_{CV}} \)
                    </span>
                    <span class="equation_left_replacement">
                        0
                    </span>
                    <span>\( = \)</span>
                    <span class="equation_right">
                        \( {{\rho}_{in}{A}_{in}{\vec{\mathbf{v}}}_{in} - {\rho}_{out}{A}_{out}{\vec{\mathbf{v}}}_{out}} \)
                    </span>
                </span>
                <span class="equation_right_hidden">
                    Flux term. Mass flow in minus mass flow out.
                </span>
            </div>
            <div class="equation_label">
                (Simple Form &mdash; One Inlet and One Outlet)
            </div>

            <p>&emsp;&emsp;It's worth noting that \( {\dot{m}_{CV}} \) can often
                be ignored since we are frequently interested in problems where the
                fluid is incompressible in a confined system such that the amount of
                mass in the system isn't changing in time. An example, would be the
                system pictured above. Click the button to activate that
                assumption and simplify the equation.</p>

            <div class="centerText">
                <button class="equation_assumptions">
                Incompressible and Confined 
                </button>
            </div>
            <div class="equation_line">
                <span class="equation_left_hidden">
                    Accumulation term. The rate at which mass is appearing or 
                    disappearing from the control volume.
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( {\dot{m}_{CV}} \)
                    </span>
                    <span class="equation_left_replacement">
                        0
                    </span>
                    <span>\( = \)</span>
                    <span class="equation_right">
                        \( {\sum\limits_{i=1}^n {\rho}_{i}{A}_{i}{\vec{\mathbf{v}}}_{i} - \sum\limits_{j=1}^m {\rho}_{j}{A}_{j}{\vec{\mathbf{v}}}_{j}} \)
                    </span>
                </span>
                <span class="equation_right_hidden">
                    Flux term. Mass flow in minus mass flow out.
                </span>
            </div>
            <div class="equation_label">
                (Simple Form &mdash; Multiple Inlets and Multiple Outlets)
            </div>

            </section>

            <section>
                <div class="everyday_app">
                    <h3>Everyday Applications</h3>
                    <p>One interesting consequence of mass conservation can be seen
                        when constricting and thus accelerating the flow of an incompressible
                        fluid like water. If you ever have put your finger over the
                        end of a hose, you know the water will spray faster and farther
                        the more you cover the end of the hose. If we assume the mass
                        flow rate through the hose is constant, the more you reduce the
                        cross-sectional area A, the greater the velocity v becomes.
                    </p>
                </div>

            </section>
            </div>

            <div id="intermediate_content">
            <section>
            <h3>Integral Forms</h3>

            <div class="centerText">
                <button class="equation_assumptions">
                Incompressible
                </button>
            </div>
            <div class="equation_line">
                <span class="equation_left_hidden">
                    Accumulation term. The rate at which mass is appearing or 
                    disappearing from the control volume.
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( {\displaystyle \iiint_V \dfrac{\partial\rho}{\partial{t}} \;dV} \)
                    </span>
                    <span class="equation_left_replacement">
                        0
                    </span>
                    <span>\( = \)</span>
                    <span class="equation_right">
                        \( {-\displaystyle \iint_S \rho (\vec{\mathbf{v}}\cdot\hat{n}) \;dS} \)
                    </span>
                </span>
                <span class="equation_right_hidden">
                    Flux term. Mass flow in minus mass flow out.
                </span>
            </div>
            <div class="equation_label">
                (General Integral Form)
            </div>

            <p>&emsp;&emsp;Where \( \rho \) is the density of the fluid (which potentially varies
                in our control volume), \( \vec{v} \) is the fluid velocity, and  
                \( \hat{n} \) is the normal vector of the control surface (i.e.
                surface of control volume)&mdash;pointing outwards. Check for yourself that
                the dot product results in mass flow in being positive and mass flow out being negative.</p>

            </section>

            <section>
            <h3>Differential Forms</h3>

            <p>&emsp;&emsp;Although the integral form of mass conservation may be more intuitive, 
                it is sometimes preferable to write mass conservation in differential form
                for an infinitesimal volume of fluid.
            </p>  

            <div class="centerText">
                <button class="equation_assumptions">
                Incompressible
                </button>
            </div>
            <div class="equation_line">
                <span class="equation_left_hidden">
                    Material derivative of density (i.e. how does density change 
                    in space and time).
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( \dfrac{D\rho}{D{t}} \)
                    </span>
                    <span>\( + \)</span>
                    <span class="equation_left_replacement">
                        
                    </span>
                    <span class="equation_right">
                        \( (\nabla\cdot\vec{\mathbf{v}})\rho \)
                    </span>
                    <span>\( = 0 \)</span>
                </span>
                <span class="equation_right_hidden">
                    The compressibility of the fluid (i.e how the velocity field contracts or expands the fluid locally).
                </span>
            </div>
            <div class="equation_label">
                (General Differential Form)
            </div>

            <p>&emsp;&emsp;Expanding the material/lagrangian derivative of density into its
                time component and space component, we can rewrite the equation as
                follows.</p>

            <div class="centerText">
                <button class="equation_assumptions">
                Incompressible
                </button>
            </div>
            <div class="equation_line">
                <span class="equation_left_hidden">
                    <span class="equation_hidden_contents">Time derivative of density.</span>
                    <span class="equation_hidden_contents"></span>
                    <span class="equation_hidden_contents">How the fluid density changes along a streamline in the flow.</span>
                </span>
                <span class="equation">
                    <span class="equation_left">
                        \( \dfrac{\partial\rho}{\partial{t}} \)
                    </span>
                    <span>\( + \)</span>
                    <span class="equation_left">
                        \( (\vec{\mathbf{v}}\cdot\nabla)\rho \)
                    </span>
                    <span>\( + \)</span>
                    <span class="equation_left_replacement">
                        
                    </span>
                    <span class="equation_right">
                        \( (\nabla\cdot\vec{\mathbf{v}})\rho \)
                    </span>
                    <span>\( = 0 \)</span>
                </span>
                <span class="equation_right_hidden">
                    The compressibility of the fluid (i.e how the velocity field contracts or expands the fluid locally).
                </span>
            </div>
            <div class="equation_label">
                (General Differential Form)
            </div>

            <p>&emsp;&emsp;If we assume that the fluid is incompressible (i.e. the fluid density
                is constant in space and time), then the material derivative of density
                is zero. This results in the simple expression that for an incompressible
                fluid the divergence of the velocity field is zero.
            </p>

            <div class="equation_line">
                <span class="equation">
                    <span>
                        \( \nabla\cdot\vec{\mathbf{v}} \)
                    </span>
                    <span>\( = 0 \)</span>
                </span>
            </div>
            <div class="equation_label">
                (Incompressible Differential Form)
            </div>

            <p>&emsp;&emsp;In Cartesian coordinates, the divergence of the velocity field would
                be written as follows.</p>

            <div class="level_select">
                <button class="reference_system">
                    Cartesian
                </button>
                <button class="reference_system">
                    Cylindrical
                </button>
                <button class="reference_system">
                    Spherical
                </button>
            </div>
            <div class="equation_line" style="padding-top: 10px">
                <span class="equation">
                    <span class="cartesian_content">
                        \(
                        \dfrac{\partial{v_x}}{\partial{x}} + 
                        \dfrac{\partial{v_y}}{\partial{y}} + 
                        \dfrac{\partial{v_z}}{\partial{z}}
                        \)
                    </span>
                    <span class="cylindrical_content">
                        \(
                        \dfrac{1}{r} \dfrac{\partial{(r v_r)}}{\partial{r}} + 
                        \dfrac{1}{r} \dfrac{\partial{v_{\phi}}}{\partial{\phi}} + 
                        \dfrac{\partial{v_z}}{\partial{z}}
                        \)
                    </span>
                    <span class="spherical_content">
                        \(
                        \dfrac{1}{r^2} \dfrac{\partial{(r^2 v_r)}}{\partial{r}} + 
                        \dfrac{1}{r \sin\theta} \dfrac{\partial{(\sin(\theta) v_\theta)}}{\partial{\theta}} +
                        \dfrac{1}{r \sin(\theta)} \dfrac{\partial{v_\phi}}{\partial{\phi}}
                        \)
                    </span>
                    <span>\( = 0 \)</span>
                </span>
            </div>
            
            <div class="cylindrical_content"></div>
            <div class="spherical_content"></div>
            <div class="equation_label">
                (Incompressible Differential Form)
            </div>
            
            </section>
            </div>

            <div id="advanced_content">
            <section>
                <h3>Derivation of the Differential Form</h3>
                <div class="equation_line">
                    <span class="equation_left_hidden">
                        Accumulation term. The rate at which mass is appearing or 
                        disappearing from the control volume.
                    </span>
                    <span class="equation">
                        <span class="equation_left">
                            \( {\displaystyle \iiint_V \dfrac{\partial\rho}{\partial{t}} \;dV} \)
                        </span>
                        <span>\( + \)</span>
                        <span class="equation_right">
                            \( {\displaystyle \iint_S \rho (\vec{\mathbf{v}}\cdot\hat{n}) \;dS} \)
                        </span>
                        <span>\( = 0 \)</span>
                    </span>
                    <span class="equation_right_hidden">
                        Flux term. Mass flow in minus mass flow out.
                    </span>
                </div>

                <p>Rewriting, using Gauss's Divergence theorem:</p>

                <div class="equation_line">
                    <span class="equation_left_hidden">
                        Accumulation term. The rate at which mass is appearing or 
                        disappearing from the control volume.
                    </span>
                    <span class="equation">
                        <span class="equation_left">
                            \( {\displaystyle \iiint_V \dfrac{\partial\rho}{\partial{t}} \;dV} \)
                        </span>
                        <span>\( + \)</span>
                        <span class="equation_right">
                            \( {\displaystyle \iiint_V \nabla\cdot (\rho\vec{\mathbf{v}}) \;dV} \)
                        </span>
                        <span>\( = 0 \)</span>
                    </span>
                    <span class="equation_right_hidden">
                        Flux term. Mass flow in minus mass flow out.
                    </span>
                </div>

                <div class="equation_line">
                    <span class="equation_left_hidden">
                        Accumulation term. The rate at which mass is appearing or 
                        disappearing from the control volume.
                    </span>
                    <span class="equation">
                        <span>\( \displaystyle \iiint_V \)</span>
                        <span class="equation_left">
                            \( \dfrac{\partial\rho}{\partial{t}} \)
                        </span>
                        <span>\( + \)</span>
                        <span class="equation_right">
                            \( \nabla\cdot (\rho\vec{\mathbf{v}}) \)
                        </span>
                        <span>\(  \;dV = 0 \)</span>
                    </span>
                    <span class="equation_right_hidden">
                        Flux term. Mass flow in minus mass flow out.
                    </span>
                </div>

                <p>Since this integral must equal zero for any arbitrary control volume,
                    we know the integrand must also be zero:</p>

                <div class="equation_line">
                    <span class="equation_left_hidden">
                        Accumulation term. The rate at which mass is appearing or 
                        disappearing from the control volume.
                    </span>
                    <span class="equation">
                        <span class="equation_left">
                            \( \dfrac{\partial\rho}{\partial{t}} \)
                        </span>
                        <span>\( + \)</span>
                        <span class="equation_right">
                            \( \nabla\cdot (\rho\vec{\mathbf{v}}) \)
                        </span>
                        <span>\( = 0 \)</span>
                    </span>
                    <span class="equation_right_hidden">
                        Flux term. Mass flow in minus mass flow out.
                    </span>
                </div>
            </section>
            </div>
    </article>
</main>
<!-- jquery -->
<script src="jquery-3.6.3.min.js"></script>
<script src="mass_conservation.js"></script>
<script src="buttons.js"></script>
<script src="equation_highlight.js"></script>
</body>
</html>